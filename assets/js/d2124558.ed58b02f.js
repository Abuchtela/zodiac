"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[130],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=o.createContext({}),p=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return o.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,f=d["".concat(u,".").concat(m)]||d[m]||c[m]||r;return n?o.createElement(f,i(i({ref:t},s),{},{components:n})):o.createElement(f,i({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2822:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return u},metadata:function(){return p},toc:function(){return s},default:function(){return d}});var o=n(7462),a=n(3366),r=(n(7294),n(3905)),i=["components"],l={sidebar_position:1},u="Setup",p={unversionedId:"tutorial-build-a-module/setup",id:"tutorial-build-a-module/setup",isDocsHomePage:!1,title:"Setup",description:"Welcome",source:"@site/docs/tutorial-build-a-module/01_setup.md",sourceDirName:"tutorial-build-a-module",slug:"/tutorial-build-a-module/setup",permalink:"/zodiac/docs/tutorial-build-a-module/setup",editUrl:"https://github.com/gnosis/zodiac/edit/master/website/docs/tutorial-build-a-module/01_setup.md",version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Technical guide",permalink:"/zodiac/docs/tutorial-modifier-delay/tech-guide"},next:{title:"Build Your Module",permalink:"/zodiac/docs/tutorial-build-a-module/create_module"}},s=[{value:"Welcome",id:"welcome",children:[]},{value:"Setup IDE",id:"setup-ide",children:[]},{value:"Deploy Button and MockSafe",id:"deploy-button-and-mocksafe",children:[]}],c={toc:s};function d(e){var t=e.components,l=(0,a.Z)(e,i);return(0,r.kt)("wrapper",(0,o.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"setup"},"Setup"),(0,r.kt)("h2",{id:"welcome"},"Welcome"),(0,r.kt)("p",null,"In this tutorial, you'll learn the the fundamental concepts of Zodiac modules while you build a super-simple example module. Deploying it first on a local test environment to control a mock ",(0,r.kt)("a",{parentName:"p",href:"http://gnosis-safe.io/"},"Gnosis Safe"),", and later using it to control a real Gnosis Safe on a public test network."),(0,r.kt)("h2",{id:"setup-ide"},"Setup IDE"),(0,r.kt)("p",null,"For this tutorial, we'll make use of ",(0,r.kt)("a",{parentName:"p",href:"https://remix.ethereum.org/"},"Remix"),", a powerful web-based IDE for building Ethereum applications. However, if you would prefer to use some other developer environment, the instructions should port easily to wherever you like to work."),(0,r.kt)("p",null,"Start by importing ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/auryn-macmillan/105ae8f09c34406997d217ee4dc0f63a"},"this gist"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Remix: insert from gist",src:n(3885).Z})),(0,r.kt)("p",null,"This will add three files to your working directory: ",(0,r.kt)("inlineCode",{parentName:"p"},"Button.sol"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"MockSafe.sol"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"MyModule.sol"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Remix: files",src:n(2473).Z})),(0,r.kt)("p",null,"Alternatively, you can create each of the files manually and copy the code from ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/auryn-macmillan/105ae8f09c34406997d217ee4dc0f63a"},"the gist"),"."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Button.sol")," is a silly little contract with one function, ",(0,r.kt)("inlineCode",{parentName:"p"},"pushButton()"),", which increments a counter, ",(0,r.kt)("inlineCode",{parentName:"p"},"pushes"),". The ",(0,r.kt)("inlineCode",{parentName:"p"},"pushButton()"),' function is only callable by the contracts "owner", which will be our Gnosis Safe.'),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"MockSafe.sol")," is a mock of the Gnosis Safe that we'll use for simplicity as we build and test in our local environment. Later we'll replace it with a real Gnosis Safe on a public test network to make sure our module really works."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"MyModule.sol")," is where you'll be adding your own code to control our Gnosis Safes and make it push the button in our ",(0,r.kt)("inlineCode",{parentName:"p"},"Button.sol")," contract."),(0,r.kt)("h2",{id:"deploy-button-and-mocksafe"},"Deploy Button and MockSafe"),(0,r.kt)("p",null,"Before we write any of our own code, we should deploy our Button and MockSafe contracts to our local environment."),(0,r.kt)("p",null,'Navigate to the "Solidity Compiler" tab and check "Auto compile". This will re-compile your contract each time you make a change.'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Remix: autocompile",src:n(771).Z})),(0,r.kt)("p",null,"With ",(0,r.kt)("inlineCode",{parentName:"p"},"Button.sol"),' open, navigate to the "Deploy & Run Transactions" tab, select "Button" from the contracts dropdown, and hit "deploy". Do the same for ',(0,r.kt)("inlineCode",{parentName:"p"},"MockSafe.sol"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Remix: deploy",src:n(7171).Z})),(0,r.kt)("p",null,'You should now see two items have appeared in the "deployed contracts" section slightly below the deploy button, one each for ',(0,r.kt)("inlineCode",{parentName:"p"},"Button.sol")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"MockSafe.sol"),". You can expand the view of either by clicking the carat to the left of the name, exposing the variables and functions for the contract."),(0,r.kt)("p",null,'You can test that your button works by pushing the "pushes" button on your deployed Button. It should return ',(0,r.kt)("inlineCode",{parentName:"p"},"0"),'. Now push the "pushButton" button and then then "pushes" button again, this time it should return ',(0,r.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Remix: deploy",src:n(271).Z})),(0,r.kt)("p",null,"Copy the address of your ",(0,r.kt)("inlineCode",{parentName:"p"},"MockSafe"),", expand your deployed ",(0,r.kt)("inlineCode",{parentName:"p"},"Button"),", and call the ",(0,r.kt)("inlineCode",{parentName:"p"},"transferOwnership()")," function, pasting in your MockSafe's address for the parameter."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Remix: transfer ownership",src:n(5029).Z})),(0,r.kt)("p",null,"Now that you've transferred ownership, pushing the \"pushButton\" button on your Button will now fail. Rather, you'll need make your MockSafe execute the transaction."),(0,r.kt)("p",null,"Expand your MockSafe and call the ",(0,r.kt)("inlineCode",{parentName:"p"},"exec")," function with the following parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"to:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"{address of your deployed Button contract}")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"value:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"0")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"data:")," ",(0,r.kt)("inlineCode",{parentName:"li"},'"0x0a007972"')," ",(0,r.kt)("em",{parentName:"li"},"(the ABI encoded function signature for the ",(0,r.kt)("inlineCode",{parentName:"em"},"pushButton()")," function)"))),(0,r.kt)("p",null,'Clicking the "pushes" button on your Button should now show that ',(0,r.kt)("inlineCode",{parentName:"p"},"pushes")," has been incremented again."),(0,r.kt)("p",null,"Your set up, huzzah! \ud83c\udf89\nLet's start building!"))}d.isMDXComponent=!0},3885:function(e,t,n){t.Z=n.p+"assets/images/build_module_01-482f3cf4927ecff77faae5d658efbbaf.png"},2473:function(e,t,n){t.Z=n.p+"assets/images/build_module_02-3cb952fe65f95192eb3c282217292ad0.png"},771:function(e,t,n){t.Z=n.p+"assets/images/build_module_03-74853d1e45534eeb118bc294193eb986.png"},7171:function(e,t,n){t.Z=n.p+"assets/images/build_module_04-e58b4f684f7c0309d50d6c85ed506c2a.png"},5029:function(e,t,n){t.Z=n.p+"assets/images/build_module_05-033fa2acbc76d73b2cd5eb8ae5b07b7e.png"},271:function(e,t,n){t.Z=n.p+"assets/images/build_module_23-8ce36a9f6c80eae156187b0cd76c6d91.png"}}]);